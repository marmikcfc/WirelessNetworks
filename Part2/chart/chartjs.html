<!doctype html>
<html>
	<head>
		<title>Part 2</title>
		<script src="lib/excanvas.js"></script>
		<script src="lib/Chart.js"></script>
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.js"></script>

		<script type="text/javascript">

		</script>
	</head>
	<body>

	<div>
		<div style="width:47%; float:left;">
			<div>
				<canvas id="canvas" height="800" width="900"></canvas>
			</div>

			<br />

		<center>	<h3> Point 1</h3>  </center>

		</div>

<div style="width:47%; float:right;">
			<div>
				<canvas id="canvas1" height="800" width="900"></canvas>
			</div>

			<br />

			<center> <h3> Point2</h3> </center>
		</div>

		</div>


		<div>
		<div style="width:47%; float:left;">
			<div>
				<canvas id="canvas2" height="800" width="900"></canvas>
			</div>

			<br />

		<center>	<h3> Point 3</h3>  </center>

		</div>

<div style="width:47%; float:right;">
			<div>
				<canvas id="canvas3" height="800" width="900"></canvas>
			</div>

			<br />

			<center> <h3> Point 4</h3> </center>
		</div>

		</div>


<div>
		<div style="width:47%; float:left;">
			<div>
				<canvas id="canvas4" height="800" width="900"></canvas>
			</div>

			<br />

		<center>	<h3> Point 5</h3>  </center>

		</div>

<div style="width:47%; float:right;">
			<div>
				<canvas id="canvas5" height="800" width="900"></canvas>
			</div>

			<br />

			<center> <h3> Point 6</h3> </center>
		</div>

		</div>

		<div>
		<div style="width:47%; float:left;">
			<div>
				<canvas id="canvas6" height="800" width="900"></canvas>
			</div>

			<br />

		<center>	<h3> Point 7</h3>  </center>

		</div>

<div style="width:47%; float:right;">
			<div>
				<canvas id="canvas7" height="800" width="900"></canvas>
			</div>

			<br />

			<center> <h3> </h3> </center>
		</div>

		</div>

	<script>

		 var fileNameArray=["distance_RSSI_50centimeters","distance_RSSI_150centimeters","distance_RSSI_250centimeters","distance_RSSI_350centimeters","distance_RSSI_450centimeters","distance_RSSI_550centimeters","distance_RSSI_650centimeters"];

         var labelArray=["Point1","Point 2","Point 3","Point 4","Point 5","Point 6","Point 7"];
         var labelArray1=["50centimeters","150centimeters","250centimeters","350centimeters","450centimeters","550centimeters","650centimeters"];

    	var getJSONFile= function (fileName){

    			var temp=[];
    			$.getJSON( fileName+".json", function( data ) {
    
   		var dist= fileName.substring(14, 17);
        if(dist == "50c")
            dist = "50";

        console.log("into JSON");
        console.log("dist   "+dist)
        
   		console.log(data);
    $.each( data, function( key, val ) {

    	if(dist == "50"){
    		console.log("into dist");
    		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "150"){
       			if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "250"){
       		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "350"){
       		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "450"){
       		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "550"){
       		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
       	
       	if(dist == "650"){
       		if(val != null){
    			console.log("into val not null"+parseInt(val.RSSI))
    		   temp.push(parseInt(val.RSSI));
    		}
    	}
    });
   

	});
console.log("Temp"+temp);
return temp;

}



				

			var pt1 =[];
			var pt2 =[];
			var pt3 =[];
			var pt4 =[];
			var pt5 =[];
			var pt6 =[];
			var pt7 =[];

   var pt1=getJSONFile("distance_RSSI_50centimeters");	
   var pt2=getJSONFile("distance_RSSI_150centimeters");
   var pt3=getJSONFile("distance_RSSI_250centimeters");
   var pt4=getJSONFile("distance_RSSI_350centimeters");
   var pt5=getJSONFile("distance_RSSI_450centimeters");
   var pt6=getJSONFile("distance_RSSI_550centimeters");
   var pt7=getJSONFile("distance_RSSI_650centimeters");




			console.log("point 1                  "+pt1[0]);
      
        
/*console.log("Point 1"+pt1[0]);

    	function avg (a) {
    		var sum = a.reduce(function(a, b) { return a + b; });
			var avg = sum / a.length;
			return avg;
    	}

    	var avgRSSI=[avg(pt1),avg(pt2),avg(pt3),avg(pt4),avg(pt5),avg(pt6),avg(pt7)];


*/
		var lineChartData = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 1",
					fillColor : "rgba(220,220,220,0.2)",
					strokeColor : "rgba(220,220,220,1)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(220,220,220,1)",
					data : pt1
				}
			
			]

		}

		var lineChartData1 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 2",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt2
				}
			]

		}

			var lineChartData2 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 3",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt3
				}
			]

		}

			var lineChartData3 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 4",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt4
				}
			]

		}

			var lineChartData4 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 5",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt5
				}
			]

		}

			var lineChartData5 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 6",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt6
				}
			]

		};

		var lineChartData6 = {
			labels : labelArray,
			datasets : [
				{
					label: "Point 7",
					fillColor : "rgba(151,187,205,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : pt7
				}
			]

		};

		

	window.onload = function(){
		var ctx = document.getElementById("canvas").getContext("2d");
		window.myLine = new Chart(ctx).Bar(lineChartData, {
			responsive: true
		});

		var ctx1 = document.getElementById("canvas1").getContext("2d");
		window.myLine1 = new Chart(ctx1).Bar(lineChartData1, {
			responsive: true
		});

			var ctx2 = document.getElementById("canvas2").getContext("2d");
		window.myLine2 = new Chart(ctx2).Bar(lineChartData2, {
			responsive: true
		});

		var ctx3 = document.getElementById("canvas3").getContext("2d");
		window.myLine3 = new Chart(ctx3).Bar(lineChartData3, {
			responsive: true
		});

			var ctx4 = document.getElementById("canvas4").getContext("2d");
		window.myLine4 = new Chart(ctx4).Bar(lineChartData4, {
			responsive: true
		});

		var ctx5 = document.getElementById("canvas5").getContext("2d");
		window.myLine5 = new Chart(ctx5).Bar(lineChartData5, {
			responsive: true
		});

			var ctx6 = document.getElementById("canvas6").getContext("2d");
		window.myLine6 = new Chart(ctx6).Bar(lineChartData6, {
			responsive: true
		});

		var ctx7 = document.getElementById("canvas7").getContext("2d");
		window.myLine7 = new Chart(ctx7).Bar(lineChartData7, {
			responsive: true
		});
	}


	</script>
	</body>
</html>
